{"id":"../node_modules/luma.gl/dist/esm/shadertools/src/modules/picking/picking.js","dependencies":[{"name":"/home/lm0-chan/react-play/gita_labs/node_modules/luma.gl/dist/esm/shadertools/src/modules/picking/picking.js.map","includedInParent":true,"mtime":1550269665000},{"name":"/home/lm0-chan/react-play/gita_labs/package.json","includedInParent":true,"mtime":1550874673728},{"name":"/home/lm0-chan/react-play/gita_labs/.babelrc","includedInParent":true,"mtime":1550824957232},{"name":"/home/lm0-chan/react-play/gita_labs/node_modules/luma.gl/package.json","includedInParent":true,"mtime":1550874675876}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar DEFAULT_HIGHLIGHT_COLOR = new Uint8Array([0, 255, 255, 255]);\nvar DEFAULT_MODULE_OPTIONS = {\n  pickingSelectedColor: null,\n  //  Set to a picking color to visually highlight that item\n  pickingHighlightColor: DEFAULT_HIGHLIGHT_COLOR,\n  // Color of visual highlight of \"selected\" item\n  pickingThreshold: 1.0,\n  pickingActive: false // Set to true when rendering to off-screen \"picking\" buffer\n\n};\n/* eslint-disable camelcase */\n\nfunction getUniforms() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : DEFAULT_MODULE_OPTIONS;\n  var uniforms = {};\n\n  if (opts.pickingSelectedColor !== undefined) {\n    if (opts.pickingSelectedColor === null) {\n      uniforms.picking_uSelectedColorValid = 0;\n    } else {\n      var selectedColor = [opts.pickingSelectedColor[0], opts.pickingSelectedColor[1], opts.pickingSelectedColor[2]];\n      uniforms.picking_uSelectedColorValid = 1;\n      uniforms.picking_uSelectedColor = selectedColor;\n    }\n  }\n\n  if (opts.pickingHighlightColor !== undefined) {\n    uniforms.picking_uHighlightColor = opts.pickingHighlightColor;\n  } // TODO - major hack - decide on normalization and remove\n\n\n  if (opts.pickingThreshold !== undefined) {\n    uniforms.picking_uThreshold = opts.pickingThreshold;\n  }\n\n  if (opts.pickingActive !== undefined) {\n    uniforms.picking_uActive = opts.pickingActive ? 1 : 0;\n  }\n\n  return uniforms;\n}\n\nvar vs = \"uniform vec3 picking_uSelectedColor;\\nuniform float picking_uThreshold;\\nuniform bool picking_uSelectedColorValid;\\n\\nout vec4 picking_vRGBcolor_Aselected;\\n\\nconst float COLOR_SCALE = 1. / 255.;\\n\\nbool isVertexPicked(vec3 vertexColor) {\\n  return\\n    picking_uSelectedColorValid &&\\n    abs(vertexColor.r - picking_uSelectedColor.r) < picking_uThreshold &&\\n    abs(vertexColor.g - picking_uSelectedColor.g) < picking_uThreshold &&\\n    abs(vertexColor.b - picking_uSelectedColor.b) < picking_uThreshold;\\n}\\n\\nvoid picking_setPickingColor(vec3 pickingColor) {\\n  picking_vRGBcolor_Aselected.a =\\n    float(isVertexPicked(pickingColor));\\n  picking_vRGBcolor_Aselected.rgb = pickingColor * COLOR_SCALE;\\n}\\n\";\nvar fs = \"uniform bool picking_uActive;\\nuniform vec3 picking_uSelectedColor;\\nuniform vec4 picking_uHighlightColor;\\n\\nin vec4 picking_vRGBcolor_Aselected;\\n\\nconst float COLOR_SCALE = 1. / 255.;\\nvec4 picking_filterHighlightColor(vec4 color) {\\n  bool selected = bool(picking_vRGBcolor_Aselected.a);\\n\\n  if (selected) {\\n    vec4 highLightColor = picking_uHighlightColor * COLOR_SCALE;\\n\\n    float highLightAlpha = highLightColor.a;\\n    float blendedAlpha = highLightAlpha + color.a * (1.0 - highLightAlpha);\\n    float highLightRatio = highLightAlpha / blendedAlpha;\\n\\n    vec3 blendedRGB = mix(color.rgb, highLightColor.rgb, highLightRatio);\\n    return vec4(blendedRGB, blendedAlpha);\\n  } else {\\n    return color;\\n  }\\n}\\nvec4 picking_filterPickingColor(vec4 color) {\\n  vec3 pickingColor = picking_vRGBcolor_Aselected.rgb;\\n  if (picking_uActive && length(pickingColor) < 0.001) {\\n    discard;\\n  }\\n  return picking_uActive ? vec4(pickingColor, 1.0) : color;\\n}\\nvec4 picking_filterColor(vec4 color) {\\n  vec4 highightColor = picking_filterHighlightColor(color);\\n  return picking_filterPickingColor(highightColor);\\n}\\n\\n\";\nvar _default = {\n  name: 'picking',\n  vs: vs,\n  fs: fs,\n  getUniforms: getUniforms\n};\nexports.default = _default;","map":{"mappings":[{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":1,"column":0},"generated":{"line":7,"column":0}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"DEFAULT_HIGHLIGHT_COLOR","original":{"line":1,"column":6},"generated":{"line":7,"column":4}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":1,"column":29},"generated":{"line":7,"column":27}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":1,"column":32},"generated":{"line":7,"column":30}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"Uint8Array","original":{"line":1,"column":36},"generated":{"line":7,"column":34}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":1,"column":32},"generated":{"line":7,"column":44}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":1,"column":47},"generated":{"line":7,"column":45}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":1,"column":48},"generated":{"line":7,"column":46}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":1,"column":47},"generated":{"line":7,"column":47}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":1,"column":51},"generated":{"line":7,"column":49}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":1,"column":47},"generated":{"line":7,"column":52}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":1,"column":56},"generated":{"line":7,"column":54}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":1,"column":47},"generated":{"line":7,"column":57}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":1,"column":61},"generated":{"line":7,"column":59}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":1,"column":47},"generated":{"line":7,"column":62}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":1,"column":32},"generated":{"line":7,"column":63}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":1,"column":0},"generated":{"line":7,"column":64}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":3,"column":0},"generated":{"line":8,"column":0}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"DEFAULT_MODULE_OPTIONS","original":{"line":3,"column":6},"generated":{"line":8,"column":4}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":3,"column":28},"generated":{"line":8,"column":26}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":3,"column":31},"generated":{"line":8,"column":29}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"pickingSelectedColor","original":{"line":4,"column":2},"generated":{"line":9,"column":0}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"pickingSelectedColor","original":{"line":4,"column":2},"generated":{"line":9,"column":2}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":4,"column":22},"generated":{"line":9,"column":22}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":4,"column":24},"generated":{"line":9,"column":24}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":3,"column":31},"generated":{"line":9,"column":28}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":4,"column":30},"generated":{"line":10,"column":0}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"pickingHighlightColor","original":{"line":5,"column":2},"generated":{"line":11,"column":0}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"pickingHighlightColor","original":{"line":5,"column":2},"generated":{"line":11,"column":2}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":5,"column":23},"generated":{"line":11,"column":23}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"DEFAULT_HIGHLIGHT_COLOR","original":{"line":5,"column":25},"generated":{"line":11,"column":25}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":3,"column":31},"generated":{"line":11,"column":48}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":5,"column":50},"generated":{"line":12,"column":0}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"pickingThreshold","original":{"line":6,"column":2},"generated":{"line":13,"column":0}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"pickingThreshold","original":{"line":6,"column":2},"generated":{"line":13,"column":2}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":6,"column":18},"generated":{"line":13,"column":18}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":6,"column":20},"generated":{"line":13,"column":20}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":3,"column":31},"generated":{"line":13,"column":23}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"pickingActive","original":{"line":7,"column":2},"generated":{"line":14,"column":0}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"pickingActive","original":{"line":7,"column":2},"generated":{"line":14,"column":2}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":7,"column":15},"generated":{"line":14,"column":15}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":7,"column":17},"generated":{"line":14,"column":17}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":3,"column":31},"generated":{"line":14,"column":22}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":7,"column":23},"generated":{"line":14,"column":23}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":3,"column":31},"generated":{"line":16,"column":0}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":3,"column":0},"generated":{"line":16,"column":1}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":10,"column":0},"generated":{"line":17,"column":0}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":11,"column":0},"generated":{"line":19,"column":0}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"getUniforms","original":{"line":11,"column":9},"generated":{"line":19,"column":9}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":11,"column":0},"generated":{"line":19,"column":20}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":11,"column":52},"generated":{"line":19,"column":23}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":11,"column":52},"generated":{"line":20,"column":0}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"opts","original":{"line":11,"column":21},"generated":{"line":20,"column":6}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":11,"column":52},"generated":{"line":20,"column":10}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":11,"column":52},"generated":{"line":20,"column":13}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":11,"column":52},"generated":{"line":20,"column":22}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":11,"column":52},"generated":{"line":20,"column":23}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":11,"column":52},"generated":{"line":20,"column":29}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":11,"column":52},"generated":{"line":20,"column":32}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":11,"column":52},"generated":{"line":20,"column":33}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":11,"column":52},"generated":{"line":20,"column":37}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":11,"column":52},"generated":{"line":20,"column":46}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":11,"column":52},"generated":{"line":20,"column":47}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":11,"column":52},"generated":{"line":20,"column":48}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":11,"column":52},"generated":{"line":20,"column":49}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":11,"column":52},"generated":{"line":20,"column":54}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":11,"column":52},"generated":{"line":20,"column":63}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":11,"column":52},"generated":{"line":20,"column":66}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":11,"column":52},"generated":{"line":20,"column":75}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":11,"column":52},"generated":{"line":20,"column":76}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":11,"column":52},"generated":{"line":20,"column":77}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":11,"column":52},"generated":{"line":20,"column":78}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"DEFAULT_MODULE_OPTIONS","original":{"line":11,"column":28},"generated":{"line":20,"column":81}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":11,"column":52},"generated":{"line":20,"column":103}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":12,"column":2},"generated":{"line":21,"column":0}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"uniforms","original":{"line":12,"column":8},"generated":{"line":21,"column":6}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":12,"column":16},"generated":{"line":21,"column":14}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":12,"column":19},"generated":{"line":21,"column":17}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":12,"column":2},"generated":{"line":21,"column":19}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":13,"column":2},"generated":{"line":23,"column":0}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"opts","original":{"line":13,"column":6},"generated":{"line":23,"column":6}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":13,"column":10},"generated":{"line":23,"column":10}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"pickingSelectedColor","original":{"line":13,"column":11},"generated":{"line":23,"column":11}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"opts","original":{"line":13,"column":6},"generated":{"line":23,"column":31}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"undefined","original":{"line":13,"column":36},"generated":{"line":23,"column":36}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":13,"column":2},"generated":{"line":23,"column":45}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":13,"column":47},"generated":{"line":23,"column":47}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":14,"column":4},"generated":{"line":24,"column":0}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"opts","original":{"line":14,"column":8},"generated":{"line":24,"column":8}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":14,"column":12},"generated":{"line":24,"column":12}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"pickingSelectedColor","original":{"line":14,"column":13},"generated":{"line":24,"column":13}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"opts","original":{"line":14,"column":8},"generated":{"line":24,"column":33}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":14,"column":38},"generated":{"line":24,"column":38}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":14,"column":4},"generated":{"line":24,"column":42}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":14,"column":44},"generated":{"line":24,"column":44}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"uniforms","original":{"line":15,"column":6},"generated":{"line":25,"column":0}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"uniforms","original":{"line":15,"column":6},"generated":{"line":25,"column":6}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":15,"column":14},"generated":{"line":25,"column":14}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"picking_uSelectedColorValid","original":{"line":15,"column":15},"generated":{"line":25,"column":15}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"uniforms","original":{"line":15,"column":6},"generated":{"line":25,"column":42}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":15,"column":45},"generated":{"line":25,"column":45}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"uniforms","original":{"line":15,"column":6},"generated":{"line":25,"column":46}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":14,"column":4},"generated":{"line":26,"column":0}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":14,"column":4},"generated":{"line":26,"column":5}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":16,"column":11},"generated":{"line":26,"column":11}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":17,"column":6},"generated":{"line":27,"column":0}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"selectedColor","original":{"line":17,"column":12},"generated":{"line":27,"column":10}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":17,"column":25},"generated":{"line":27,"column":23}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":17,"column":28},"generated":{"line":27,"column":26}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"opts","original":{"line":18,"column":8},"generated":{"line":27,"column":27}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":18,"column":12},"generated":{"line":27,"column":31}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"pickingSelectedColor","original":{"line":18,"column":13},"generated":{"line":27,"column":32}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"opts","original":{"line":18,"column":8},"generated":{"line":27,"column":52}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":18,"column":34},"generated":{"line":27,"column":53}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"opts","original":{"line":18,"column":8},"generated":{"line":27,"column":54}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":17,"column":28},"generated":{"line":27,"column":55}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"opts","original":{"line":19,"column":8},"generated":{"line":27,"column":57}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":19,"column":12},"generated":{"line":27,"column":61}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"pickingSelectedColor","original":{"line":19,"column":13},"generated":{"line":27,"column":62}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"opts","original":{"line":19,"column":8},"generated":{"line":27,"column":82}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":19,"column":34},"generated":{"line":27,"column":83}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"opts","original":{"line":19,"column":8},"generated":{"line":27,"column":84}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":17,"column":28},"generated":{"line":27,"column":85}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"opts","original":{"line":20,"column":8},"generated":{"line":27,"column":87}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":20,"column":12},"generated":{"line":27,"column":91}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"pickingSelectedColor","original":{"line":20,"column":13},"generated":{"line":27,"column":92}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"opts","original":{"line":20,"column":8},"generated":{"line":27,"column":112}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":20,"column":34},"generated":{"line":27,"column":113}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"opts","original":{"line":20,"column":8},"generated":{"line":27,"column":114}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":17,"column":28},"generated":{"line":27,"column":115}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":17,"column":6},"generated":{"line":27,"column":116}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"uniforms","original":{"line":22,"column":6},"generated":{"line":28,"column":0}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"uniforms","original":{"line":22,"column":6},"generated":{"line":28,"column":6}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":22,"column":14},"generated":{"line":28,"column":14}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"picking_uSelectedColorValid","original":{"line":22,"column":15},"generated":{"line":28,"column":15}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"uniforms","original":{"line":22,"column":6},"generated":{"line":28,"column":42}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":22,"column":45},"generated":{"line":28,"column":45}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"uniforms","original":{"line":22,"column":6},"generated":{"line":28,"column":46}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"uniforms","original":{"line":23,"column":6},"generated":{"line":29,"column":0}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"uniforms","original":{"line":23,"column":6},"generated":{"line":29,"column":6}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":23,"column":14},"generated":{"line":29,"column":14}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"picking_uSelectedColor","original":{"line":23,"column":15},"generated":{"line":29,"column":15}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"uniforms","original":{"line":23,"column":6},"generated":{"line":29,"column":37}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"selectedColor","original":{"line":23,"column":40},"generated":{"line":29,"column":40}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"uniforms","original":{"line":23,"column":6},"generated":{"line":29,"column":53}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":24,"column":5},"generated":{"line":30,"column":0}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":25,"column":3},"generated":{"line":31,"column":0}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":26,"column":2},"generated":{"line":33,"column":0}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"opts","original":{"line":26,"column":6},"generated":{"line":33,"column":6}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":26,"column":10},"generated":{"line":33,"column":10}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"pickingHighlightColor","original":{"line":26,"column":11},"generated":{"line":33,"column":11}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"opts","original":{"line":26,"column":6},"generated":{"line":33,"column":32}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"undefined","original":{"line":26,"column":37},"generated":{"line":33,"column":37}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":26,"column":2},"generated":{"line":33,"column":46}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":26,"column":48},"generated":{"line":33,"column":48}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"uniforms","original":{"line":27,"column":4},"generated":{"line":34,"column":0}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"uniforms","original":{"line":27,"column":4},"generated":{"line":34,"column":4}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":27,"column":12},"generated":{"line":34,"column":12}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"picking_uHighlightColor","original":{"line":27,"column":13},"generated":{"line":34,"column":13}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"uniforms","original":{"line":27,"column":4},"generated":{"line":34,"column":36}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"opts","original":{"line":27,"column":39},"generated":{"line":34,"column":39}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":27,"column":43},"generated":{"line":34,"column":43}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"pickingHighlightColor","original":{"line":27,"column":44},"generated":{"line":34,"column":44}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"uniforms","original":{"line":27,"column":4},"generated":{"line":34,"column":65}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":11,"column":52},"generated":{"line":35,"column":0}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":11,"column":52},"generated":{"line":35,"column":3}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":29,"column":2},"generated":{"line":35,"column":4}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":30,"column":2},"generated":{"line":38,"column":0}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"opts","original":{"line":30,"column":6},"generated":{"line":38,"column":6}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":30,"column":10},"generated":{"line":38,"column":10}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"pickingThreshold","original":{"line":30,"column":11},"generated":{"line":38,"column":11}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"opts","original":{"line":30,"column":6},"generated":{"line":38,"column":27}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"undefined","original":{"line":30,"column":32},"generated":{"line":38,"column":32}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":30,"column":2},"generated":{"line":38,"column":41}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":30,"column":43},"generated":{"line":38,"column":43}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"uniforms","original":{"line":31,"column":4},"generated":{"line":39,"column":0}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"uniforms","original":{"line":31,"column":4},"generated":{"line":39,"column":4}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":31,"column":12},"generated":{"line":39,"column":12}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"picking_uThreshold","original":{"line":31,"column":13},"generated":{"line":39,"column":13}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"uniforms","original":{"line":31,"column":4},"generated":{"line":39,"column":31}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"opts","original":{"line":31,"column":34},"generated":{"line":39,"column":34}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":31,"column":38},"generated":{"line":39,"column":38}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"pickingThreshold","original":{"line":31,"column":39},"generated":{"line":39,"column":39}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"uniforms","original":{"line":31,"column":4},"generated":{"line":39,"column":55}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":32,"column":3},"generated":{"line":40,"column":0}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":33,"column":2},"generated":{"line":42,"column":0}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"opts","original":{"line":33,"column":6},"generated":{"line":42,"column":6}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":33,"column":10},"generated":{"line":42,"column":10}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"pickingActive","original":{"line":33,"column":11},"generated":{"line":42,"column":11}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"opts","original":{"line":33,"column":6},"generated":{"line":42,"column":24}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"undefined","original":{"line":33,"column":29},"generated":{"line":42,"column":29}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":33,"column":2},"generated":{"line":42,"column":38}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":33,"column":40},"generated":{"line":42,"column":40}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"uniforms","original":{"line":34,"column":4},"generated":{"line":43,"column":0}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"uniforms","original":{"line":34,"column":4},"generated":{"line":43,"column":4}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":34,"column":12},"generated":{"line":43,"column":12}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"picking_uActive","original":{"line":34,"column":13},"generated":{"line":43,"column":13}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"uniforms","original":{"line":34,"column":4},"generated":{"line":43,"column":28}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"opts","original":{"line":34,"column":31},"generated":{"line":43,"column":31}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":34,"column":35},"generated":{"line":43,"column":35}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"pickingActive","original":{"line":34,"column":36},"generated":{"line":43,"column":36}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"opts","original":{"line":34,"column":31},"generated":{"line":43,"column":49}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":34,"column":52},"generated":{"line":43,"column":52}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"opts","original":{"line":34,"column":31},"generated":{"line":43,"column":53}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":34,"column":56},"generated":{"line":43,"column":56}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"uniforms","original":{"line":34,"column":4},"generated":{"line":43,"column":57}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":35,"column":3},"generated":{"line":44,"column":0}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":36,"column":2},"generated":{"line":46,"column":0}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"uniforms","original":{"line":36,"column":9},"generated":{"line":46,"column":9}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":36,"column":2},"generated":{"line":46,"column":17}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":37,"column":1},"generated":{"line":47,"column":0}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":39,"column":0},"generated":{"line":49,"column":0}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"vs","original":{"line":39,"column":6},"generated":{"line":49,"column":4}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":39,"column":8},"generated":{"line":49,"column":6}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":39,"column":8},"generated":{"line":49,"column":9}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":39,"column":0},"generated":{"line":49,"column":721}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":66,"column":0},"generated":{"line":50,"column":0}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"fs","original":{"line":66,"column":6},"generated":{"line":50,"column":4}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":66,"column":8},"generated":{"line":50,"column":6}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":66,"column":8},"generated":{"line":50,"column":9}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":66,"column":0},"generated":{"line":50,"column":1138}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":117,"column":15},"generated":{"line":51,"column":15}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"name","original":{"line":118,"column":2},"generated":{"line":52,"column":0}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"name","original":{"line":118,"column":2},"generated":{"line":52,"column":2}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":118,"column":6},"generated":{"line":52,"column":6}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":118,"column":8},"generated":{"line":52,"column":8}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":117,"column":15},"generated":{"line":52,"column":17}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"vs","original":{"line":119,"column":2},"generated":{"line":53,"column":0}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"vs","original":{"line":119,"column":2},"generated":{"line":53,"column":2}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":119,"column":4},"generated":{"line":53,"column":4}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"vs","original":{"line":119,"column":2},"generated":{"line":53,"column":6}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":117,"column":15},"generated":{"line":53,"column":8}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"fs","original":{"line":120,"column":2},"generated":{"line":54,"column":0}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"fs","original":{"line":120,"column":2},"generated":{"line":54,"column":2}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":120,"column":4},"generated":{"line":54,"column":4}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"fs","original":{"line":120,"column":2},"generated":{"line":54,"column":6}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":117,"column":15},"generated":{"line":54,"column":8}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"getUniforms","original":{"line":121,"column":2},"generated":{"line":55,"column":0}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"getUniforms","original":{"line":121,"column":2},"generated":{"line":55,"column":2}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":121,"column":13},"generated":{"line":55,"column":13}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":"getUniforms","original":{"line":121,"column":2},"generated":{"line":55,"column":15}},{"source":"../../../../../../src/shadertools/src/modules/picking/picking.js","name":null,"original":{"line":117,"column":15},"generated":{"line":56,"column":0}}],"sources":{"../../../../../../src/shadertools/src/modules/picking/picking.js":"const DEFAULT_HIGHLIGHT_COLOR = new Uint8Array([0, 255, 255, 255]);\n\nconst DEFAULT_MODULE_OPTIONS = {\n  pickingSelectedColor: null, //  Set to a picking color to visually highlight that item\n  pickingHighlightColor: DEFAULT_HIGHLIGHT_COLOR, // Color of visual highlight of \"selected\" item\n  pickingThreshold: 1.0,\n  pickingActive: false // Set to true when rendering to off-screen \"picking\" buffer\n};\n\n/* eslint-disable camelcase */\nfunction getUniforms(opts = DEFAULT_MODULE_OPTIONS) {\n  const uniforms = {};\n  if (opts.pickingSelectedColor !== undefined) {\n    if (opts.pickingSelectedColor === null) {\n      uniforms.picking_uSelectedColorValid = 0;\n    } else {\n      const selectedColor = [\n        opts.pickingSelectedColor[0],\n        opts.pickingSelectedColor[1],\n        opts.pickingSelectedColor[2]\n      ];\n      uniforms.picking_uSelectedColorValid = 1;\n      uniforms.picking_uSelectedColor = selectedColor;\n    }\n  }\n  if (opts.pickingHighlightColor !== undefined) {\n    uniforms.picking_uHighlightColor = opts.pickingHighlightColor;\n  }\n  // TODO - major hack - decide on normalization and remove\n  if (opts.pickingThreshold !== undefined) {\n    uniforms.picking_uThreshold = opts.pickingThreshold;\n  }\n  if (opts.pickingActive !== undefined) {\n    uniforms.picking_uActive = opts.pickingActive ? 1 : 0;\n  }\n  return uniforms;\n}\n\nconst vs = `\\\nuniform vec3 picking_uSelectedColor;\nuniform float picking_uThreshold;\nuniform bool picking_uSelectedColorValid;\n\nout vec4 picking_vRGBcolor_Aselected;\n\nconst float COLOR_SCALE = 1. / 255.;\n\nbool isVertexPicked(vec3 vertexColor) {\n  return\n    picking_uSelectedColorValid &&\n    abs(vertexColor.r - picking_uSelectedColor.r) < picking_uThreshold &&\n    abs(vertexColor.g - picking_uSelectedColor.g) < picking_uThreshold &&\n    abs(vertexColor.b - picking_uSelectedColor.b) < picking_uThreshold;\n}\n\nvoid picking_setPickingColor(vec3 pickingColor) {\n  // Do the comparison with selected item color in vertex shader as it should mean fewer compares\n  picking_vRGBcolor_Aselected.a =\n    float(isVertexPicked(pickingColor));\n\n  // Stores the picking color so that the fragment shader can render it during picking\n  picking_vRGBcolor_Aselected.rgb = pickingColor * COLOR_SCALE;\n}\n`;\n\nconst fs = `\\\nuniform bool picking_uActive; // true during rendering to offscreen picking buffer\nuniform vec3 picking_uSelectedColor;\nuniform vec4 picking_uHighlightColor;\n\nin vec4 picking_vRGBcolor_Aselected;\n\nconst float COLOR_SCALE = 1. / 255.;\n\n/*\n * Returns highlight color if this item is selected.\n */\nvec4 picking_filterHighlightColor(vec4 color) {\n  bool selected = bool(picking_vRGBcolor_Aselected.a);\n\n  if (selected) {\n    vec4 highLightColor = picking_uHighlightColor * COLOR_SCALE;\n\n    float highLightAlpha = highLightColor.a;\n    float blendedAlpha = highLightAlpha + color.a * (1.0 - highLightAlpha);\n    float highLightRatio = highLightAlpha / blendedAlpha;\n\n    vec3 blendedRGB = mix(color.rgb, highLightColor.rgb, highLightRatio);\n    return vec4(blendedRGB, blendedAlpha);\n  } else {\n    return color;\n  }\n}\n\n/*\n * Returns picking color if picking enabled else unmodified argument.\n */\nvec4 picking_filterPickingColor(vec4 color) {\n  vec3 pickingColor = picking_vRGBcolor_Aselected.rgb;\n  if (picking_uActive && length(pickingColor) < 0.001) {\n    discard;\n  }\n  return picking_uActive ? vec4(pickingColor, 1.0) : color;\n}\n\n/*\n * Returns picking color if picking is enabled if not\n * highlight color if this item is selected, otherwise unmodified argument.\n */\nvec4 picking_filterColor(vec4 color) {\n  vec4 highightColor = picking_filterHighlightColor(color);\n  return picking_filterPickingColor(highightColor);\n}\n\n`;\n\nexport default {\n  name: 'picking',\n  vs,\n  fs,\n  getUniforms\n};\n"},"lineCount":null}},"hash":"5020116c94c5587786f3d0540da542a2","cacheData":{"env":{}}}